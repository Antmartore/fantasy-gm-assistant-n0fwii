// Fantasy GM Assistant - Staging Configuration
// Version: 1.0
// Environment: Staging/Testing

// MARK: - Product Settings
PRODUCT_NAME = Fantasy GM Assistant Staging
PRODUCT_BUNDLE_IDENTIFIER = com.fantasygm.assistant.staging
DEVELOPMENT_TEAM = $(DEVELOPMENT_TEAM_ID)
CODE_SIGN_STYLE = Manual
CURRENT_PROJECT_VERSION = $(CURRENT_PROJECT_VERSION)
MARKETING_VERSION = $(MARKETING_VERSION)

// MARK: - Build Settings
GCC_OPTIMIZATION_LEVEL = 2
SWIFT_OPTIMIZATION_LEVEL = -O
DEBUG_INFORMATION_FORMAT = dwarf-with-dsym
ENABLE_TESTABILITY = YES
GCC_PREPROCESSOR_DEFINITIONS = STAGING=1
SWIFT_ACTIVE_COMPILATION_CONDITIONS = STAGING DEBUG
ENABLE_STRICT_OBJC_MSGSEND = YES
CLANG_WARN_DOCUMENTATION_COMMENTS = YES
GCC_WARN_UNUSED_VARIABLE = YES
CLANG_ANALYZER_NONNULL = YES

// MARK: - Deployment Settings
TARGETED_DEVICE_FAMILY = 1
IPHONEOS_DEPLOYMENT_TARGET = 14.0
SWIFT_VERSION = 5.0
ENABLE_BITCODE = NO
VALIDATE_PRODUCT = YES
ENABLE_NS_ASSERTIONS = YES
ENABLE_TESTING_SEARCH_PATHS = YES
ALWAYS_EMBED_SWIFT_STANDARD_LIBRARIES = YES

// MARK: - Environment Variables
API_BASE_URL = https://staging-api.fantasygm.assistant.com
FIREBASE_ENVIRONMENT = staging
ENABLE_LOGGING = YES
ENABLE_ANALYTICS = YES
ENABLE_CRASH_REPORTING = YES
LOG_LEVEL = DEBUG
NETWORK_TIMEOUT = 30
MAX_RETRY_ATTEMPTS = 3
ENABLE_MOCK_SERVICES = YES
ENABLE_UI_TESTING = YES

// MARK: - Code Signing
CODE_SIGN_IDENTITY = iPhone Distribution
CODE_SIGN_STYLE = Manual
PROVISIONING_PROFILE_SPECIFIER = Fantasy GM Assistant Staging
CODE_SIGN_INJECT_BASE_ENTITLEMENTS = YES
OTHER_CODE_SIGN_FLAGS = --timestamp
CODE_SIGN_ALLOW_ENTITLEMENTS_MODIFICATION = YES

// MARK: - App Sandbox Settings
ENABLE_APP_SANDBOX = YES
APP_SANDBOX_INHERIT = YES
ENABLE_HARDENED_RUNTIME = YES
ENABLE_APP_ATTEST = YES
ENABLE_USER_SELECTED_FILES = read-write

// MARK: - Staging Features
ENABLE_PUSH_NOTIFICATIONS = YES
ENABLE_BACKGROUND_MODES = YES
ENABLE_SIGN_IN_WITH_APPLE = YES
ENABLE_KEYCHAIN_SHARING = YES
ENABLE_ASSOCIATED_DOMAINS = YES
ENABLE_DEBUG_LOGGING = YES
ENABLE_NETWORK_DEBUGGING = YES
ENABLE_TEST_COVERAGE = YES
ENABLE_PERFORMANCE_MONITORING = YES
ENABLE_MEMORY_TRACKING = YES
ENABLE_UI_DEBUGGING = YES
ENABLE_AUTOMATED_SCREENSHOTS = YES
ENABLE_ACCESSIBILITY_TESTING = YES

// MARK: - Included Configurations
#include "../Info.plist"
#include "../../GoogleService-Info.plist"