// Release.xcconfig
// Fantasy GM Assistant - Production Configuration
// Version: 1.0
// Copyright Â© 2024 Fantasy GM Assistant. All rights reserved.

// MARK: - Product Configuration
PRODUCT_NAME = Fantasy GM Assistant
PRODUCT_BUNDLE_IDENTIFIER = com.fantasygm.assistant
DEVELOPMENT_TEAM = $(DEVELOPMENT_TEAM_ID)
CURRENT_PROJECT_VERSION = $(CURRENT_PROJECT_VERSION)
MARKETING_VERSION = $(MARKETING_VERSION)

// MARK: - Build Settings
GCC_OPTIMIZATION_LEVEL = 3
SWIFT_OPTIMIZATION_LEVEL = -Owholemodule
DEBUG_INFORMATION_FORMAT = dwarf-with-dsym
ENABLE_TESTABILITY = NO
GCC_PREPROCESSOR_DEFINITIONS = RELEASE=1 NDEBUG=1
SWIFT_COMPILATION_MODE = wholemodule
ENABLE_NS_ASSERTIONS = NO
VALIDATE_PRODUCT = YES

// MARK: - Deployment Settings
TARGETED_DEVICE_FAMILY = 1
IPHONEOS_DEPLOYMENT_TARGET = 14.0
SWIFT_VERSION = 5.0
ENABLE_BITCODE = NO
ASSETCATALOG_COMPILER_OPTIMIZATION = time
ENABLE_ON_DEMAND_RESOURCES = YES
ENABLE_APP_THINNING = YES

// MARK: - Environment Variables
API_BASE_URL = https://api.fantasygm.assistant.com
FIREBASE_ENVIRONMENT = production
ENABLE_LOGGING = NO
ENABLE_ANALYTICS = YES
ENABLE_CRASH_REPORTING = YES
ENABLE_REMOTE_CONFIG = YES
ENABLE_PERFORMANCE_MONITORING = YES
API_TIMEOUT_INTERVAL = 30
MAX_RETRY_ATTEMPTS = 3

// MARK: - Code Signing
CODE_SIGN_IDENTITY = iPhone Distribution
CODE_SIGN_STYLE = Manual
PROVISIONING_PROFILE_SPECIFIER = Fantasy GM Assistant Production
CODE_SIGN_INJECT_BASE_ENTITLEMENTS = YES
OTHER_CODE_SIGN_FLAGS = --timestamp

// MARK: - Security Settings
ENABLE_APP_SANDBOX = YES
APP_SANDBOX_INHERIT = YES
ENABLE_HARDENED_RUNTIME = YES
ENABLE_STRICT_OBJC_MSGSEND = YES
ENABLE_ENCRYPTION = YES
ENCRYPTION_EXPORT_COMPLIANCE_CODE = $(ENCRYPTION_EXPORT_COMPLIANCE_CODE)

// MARK: - Production Features
ENABLE_PUSH_NOTIFICATIONS = YES
ENABLE_BACKGROUND_MODES = YES
ENABLE_SIGN_IN_WITH_APPLE = YES
ENABLE_KEYCHAIN_SHARING = YES
ENABLE_ASSOCIATED_DOMAINS = YES
ENABLE_GAMEKIT = YES
ENABLE_IN_APP_PURCHASE = YES
ENABLE_AUTOMATIC_CONFIGURATION = YES
ENABLE_TESTFLIGHT = NO

// MARK: - Compiler Flags
OTHER_SWIFT_FLAGS = -D RELEASE
OTHER_CFLAGS = -DNS_BLOCK_ASSERTIONS=1

// MARK: - Asset Optimization
COMPRESS_PNG_FILES = YES
STRIP_PNG_TEXT = YES
STRIP_INSTALLED_PRODUCT = YES
DEAD_CODE_STRIPPING = YES

// MARK: - ATS Settings
ENABLE_STRICT_ATS = YES

// MARK: - Memory Management
SWIFT_ENFORCE_EXCLUSIVE_ACCESS = on-declarations

// MARK: - Build Paths
CONFIGURATION_BUILD_DIR = $(BUILD_DIR)/$(CONFIGURATION)$(EFFECTIVE_PLATFORM_NAME)
SYMROOT = build

// MARK: - Architectures
ARCHS = $(ARCHS_STANDARD)
VALID_ARCHS = arm64 arm64e

// MARK: - Linking
MACH_O_TYPE = mh_execute
LINK_WITH_STANDARD_LIBRARIES = YES
ALWAYS_EMBED_SWIFT_STANDARD_LIBRARIES = YES

// MARK: - Search Paths
ALWAYS_SEARCH_USER_PATHS = NO
FRAMEWORK_SEARCH_PATHS = $(inherited) "$(SRCROOT)/Frameworks"

// MARK: - Versioning
VERSIONING_SYSTEM = apple-generic
CURRENT_PROJECT_VERSION = $(CURRENT_PROJECT_VERSION)